我们不应该在路上浪费额外的（往返）时间，所以从左往右走是明智的。

维护集合$Q$，表示当前最优的$AK$机房的集合，并将机房按位置从左向右排序。

每走到一个新的机房$i$，更新花费时间$T=T_0+t_i+|x_i-x_{i-1}|$，如果$T$已经超过$m$就考虑从$Q$中剔除一些机房。很显然应该剔除$AK$耗时较多的机房，所以将当前$Q$中$t$值最大的机房排出集合，同时更新$T$的值，直到$T\leqslant m$。这时$Q$中元素的数量可以和$ans$打擂。